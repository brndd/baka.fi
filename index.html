<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="icon" href="9icon.png" type="image/png" sizes="64x64">
<title>Baka.fi</title>

<style>
body {
	background-color: black;
	background-image:url('bg1.png'), url('bg2.png'), url('bg3.png');
	animation: ninefall 2s linear infinite;
	padding:0;
	margin:0;
}

body.miku-theme {
	background-color: #86cecb;
	background-image:url('leek1.webp'), url('leek2.webp'), url('leek3.webp');
}

h1 {color:white;font-family:sans-serif;font-size:48pt;text-align:center;}

@keyframes ninefall {
	0% {background-position: 0px 0px, 0px 0px, 0px 0px;}
	100% {background-position: 500px 500px, -400px 400px, 300px 300px;}
}

#video {
	position:absolute;
	top:50%;
	left:50%;
	margin:-240px 0 0 -240px;
	width:480px;
	height:480px;
}

#embed {
	width:480px;
	height:360px;
	margin:0;
	padding:0;
	z-index:2;
}

.baka {
	font: 36pt Sans-Serif;
	font-weight: bold;
	color: white;
	padding: 0;
	margin: 0;
	z-index:3;
}

/*animated marquees*/

.top {
    width: 100%;
	height:60px;
    white-space: nowrap;
    overflow: hidden;
	margin-bottom:0;
	padding:0;
}

.top span {
    display: inline-block;
    text-indent: 0;
    animation: top 3s linear infinite;
}

@keyframes top {
	0% {transform:translate(0,0);}
	100% {transform:translate(-50%,0);}
}

.bot {
    width:100%;
	height:60px;
	white-space: nowrap;
    overflow: hidden;
	margin:0;
	padding:0;
}

.bot span {
    display: inline-block;
    text-indent: 0;
    animation: bot 3s linear infinite;
	position:relative;
	right:40em;
}

@keyframes bot {
	0% {transform:translate(0,0);}
	100% {transform:translate(50%,0);}
}

</style>
</head>

<body>

<div id="video">
<p class="baka top"><span>BAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKA</span></p>
<video id="mainVideo" autoplay loop controls> <source src="cirno.webm" type="video/webm">BAKABAKABAKABAKABAKABAKABAKABAKA</video>
<p class="baka bot"><span>BAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKABAKA</span></p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    
    let applyMikuTheme = false;

    if (urlParams.has('miku')) {
        applyMikuTheme = true;
    } else if (urlParams.has('cirno')) {
        applyMikuTheme = false;
    } else {
        const today = new Date();
        const month = today.getMonth();
        const day = today.getDate();
        if (month == 7 && day == 31) { //Miku's birthday
            applyMikuTheme = true;
        } else if (month == 8 && day == 9) { //Cirno's birthday
            applyMikuTheme = false;
        } else {
            applyMikuTheme = Math.random() < 0.5;
        }
    }

    if (applyMikuTheme) {
        document.body.classList.add('miku-theme');

        const mainVideo = document.getElementById('mainVideo');
        if (mainVideo) {
            mainVideo.querySelector('source').src = 'miku.webm';
            mainVideo.load();
        }
    }
});
</script>

</body>

</html>
